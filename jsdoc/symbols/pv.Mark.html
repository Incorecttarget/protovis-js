<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="generator" content="JsDoc Toolkit" />
		
		<title>JsDoc Reference - pv.Mark</title>

		<style type="text/css">
			/* default.css */
body
{
	font: 12px "Lucida Grande", Tahoma, Arial, Helvetica, sans-serif;
	width: 800px;
}

.header
{
	clear: both;
	background-color: #ccc;
	padding: 8px;
}

h1
{
	font-size: 150%;
	font-weight: bold;
	padding: 0;
	margin: 1em 0 0 .3em;
}

hr
{
	border: none 0;
	border-top: 1px solid #7F8FB1;
	height: 1px;
}

pre.code
{
	display: block;
	padding: 8px;
	border: 1px dashed #ccc;
}

#index
{
	margin-top: 24px;
	float: left;
	width: 160px;
	position: absolute;
	left: 8px;
	background-color: #F3F3F3;
	padding: 8px;
}

#content
{
	margin-left: 190px;
	width: 600px;
}

.classList
{
	list-style-type: none;
	padding: 0;
	margin: 0 0 0 8px;
	font-family: arial, sans-serif;
	font-size: 1em;
	overflow: auto;
}

.classList li
{
	padding: 0;
	margin: 0 0 8px 0;
}

.summaryTable { width: 100%; }

h1.classTitle
{
	font-size:170%;
	line-height:130%;
}

h2 { font-size: 110%; }
caption, div.sectionTitle
{
	background-color: #7F8FB1;
	color: #fff;
	font-size:130%;
	text-align: left;
	padding: 2px 6px 2px 6px;
	border: 1px #7F8FB1 solid;
}

div.sectionTitle { margin-bottom: 8px; }
.summaryTable thead { display: none; }

.summaryTable td
{
	vertical-align: top;
	padding: 4px;
	border-bottom: 1px #7F8FB1 solid;
	border-right: 1px #7F8FB1 solid;
}

/*col#summaryAttributes {}*/
.summaryTable td.attributes
{
	border-left: 1px #7F8FB1 solid;
	width: 140px;
	text-align: right;
}

td.attributes, .fixedFont
{
	line-height: 15px;
	color: #002EBE;
	font-family: "Courier New",Courier,monospace;
	font-size: 13px;
}

.summaryTable td.nameDescription
{
	text-align: left;
	font-size: 13px;
	line-height: 15px;
}

.summaryTable td.nameDescription, .description
{
	line-height: 15px;
	padding: 4px;
	padding-left: 4px;
}

pre
{
  border-left: solid 10px #ddd;
  padding-left: 1.5em;
}

.summaryTable { margin-bottom: 8px; }

ul.inheritsList
{
	list-style: square;
	margin-left: 20px;
	padding-left: 0;
}

.detailList {
	margin-left: 20px; 
	line-height: 15px;
}
.detailList dt { margin-left: 20px; }

.detailList .heading
{
	font-weight: bold;
	padding-bottom: 6px;
	margin-left: 0;
}

.light, td.attributes, .light a:link, .light a:visited
{
	color: #777;
	font-style: italic;
}

.fineprint
{
	text-align: right;
	font-size: 10px;
}

		</style>
	</head>

	<body>
<!-- ============================== header ================================= -->	
		<!-- begin static/header.html -->
		<div id="header">
</div>
		<!-- end static/header.html -->

<!-- ============================== classes index ============================ -->
		<div id="index">
			<!-- begin publish.classesIndex -->
			<div align="center"><a href="../index.html">Class Index</a>
| <a href="../files.html">File Index</a></div>
<hr />
<h2>Classes</h2>
<ul class="classList">
	
	<li><i><a href="../symbols/_global_.html">_global_</a></i></li>
	
	<li><a href="../symbols/Array.html">Array</a></li>
	
	<li><a href="../symbols/Date.html">Date</a></li>
	
	<li><a href="../symbols/pv.html">pv</a></li>
	
	<li><a href="../symbols/pv.Anchor.html">pv.Anchor</a></li>
	
	<li><a href="../symbols/pv.Area.html">pv.Area</a></li>
	
	<li><a href="../symbols/pv.Bar.html">pv.Bar</a></li>
	
	<li><a href="../symbols/pv.Color.html">pv.Color</a></li>
	
	<li><a href="../symbols/pv.Color.Hsl.html">pv.Color.Hsl</a></li>
	
	<li><a href="../symbols/pv.Color.Rgb.html">pv.Color.Rgb</a></li>
	
	<li><a href="../symbols/pv.Colors.html">pv.Colors</a></li>
	
	<li><a href="../symbols/pv.Dot.html">pv.Dot</a></li>
	
	<li><a href="../symbols/pv.Flatten.html">pv.Flatten</a></li>
	
	<li><a href="../symbols/pv.Image.html">pv.Image</a></li>
	
	<li><a href="../symbols/pv.Label.html">pv.Label</a></li>
	
	<li><a href="../symbols/pv.Layout.grid.html">pv.Layout.grid</a></li>
	
	<li><a href="../symbols/pv.Layout.icicle.html">pv.Layout.icicle</a></li>
	
	<li><a href="../symbols/pv.Layout.stack.html">pv.Layout.stack</a></li>
	
	<li><a href="../symbols/pv.Layout.sunburst.html">pv.Layout.sunburst</a></li>
	
	<li><a href="../symbols/pv.Layout.treemap.html">pv.Layout.treemap</a></li>
	
	<li><a href="../symbols/pv.Line.html">pv.Line</a></li>
	
	<li><a href="../symbols/pv.Mark.html">pv.Mark</a></li>
	
	<li><a href="../symbols/pv.Nest.html">pv.Nest</a></li>
	
	<li><a href="../symbols/pv.ns.html">pv.ns</a></li>
	
	<li><a href="../symbols/pv.Panel.html">pv.Panel</a></li>
	
	<li><a href="../symbols/pv.Rule.html">pv.Rule</a></li>
	
	<li><a href="../symbols/pv.Scale.linear.html">pv.Scale.linear</a></li>
	
	<li><a href="../symbols/pv.Scale.log.html">pv.Scale.log</a></li>
	
	<li><a href="../symbols/pv.Scale.ordinal.html">pv.Scale.ordinal</a></li>
	
	<li><a href="../symbols/pv.Tree.html">pv.Tree</a></li>
	
	<li><a href="../symbols/pv.Vector.html">pv.Vector</a></li>
	
	<li><a href="../symbols/pv.version.html">pv.version</a></li>
	
	<li><a href="../symbols/pv.Wedge.html">pv.Wedge</a></li>
	
</ul>
<hr />
			<!-- end publish.classesIndex -->
		</div>
		
		<div id="content">
<!-- ============================== class title ============================ -->
			<h1 class="classTitle">
				
				Class pv.Mark
			</h1>

<!-- ============================== class summary ========================== -->			
			<p class="description">
				
			
				Represents a data-driven graphical mark. The <tt>Mark</tt> class is
the base class for all graphical marks in Protovis; it does not provide any
specific rendering functionality, but together with Panel establishes
the core framework.

<p>Concrete mark types include familiar visual elements such as bars, lines
and labels. Although a bar mark may be used to construct a bar chart, marks
know nothing about charts; it is only through their specification and
composition that charts are produced. These building blocks permit many
combinatorial possibilities.

<p>Marks are associated with <b>data</b>: a mark is generated once per
associated datum, mapping the datum to visual <b>properties</b> such as
position and color. Thus, a single mark specification represents a set of
visual elements that share the same data and visual encoding. The type of
mark defines the names of properties and their meaning. A property may be
static, ignoring the associated datum and returning a constant; or, it may be
dynamic, derived from the associated datum or index. Such dynamic encodings
can be specified succinctly using anonymous functions. Special properties
called event handlers can be registered to add interactivity.

<p>Protovis uses <b>inheritance</b> to simplify the specification of related
marks: a new mark can be derived from an existing mark, inheriting its
properties. The new mark can then override properties to specify new
behavior, potentially in terms of the old behavior. In this way, the old mark
serves as the <b>prototype</b> for the new mark. Most mark types share the
same basic properties for consistency and to facilitate inheritance.

<p>The prioritization of redundant properties is as follows:<ol>

<li>If the <tt>width</tt> property is not specified (i.e., null), its value
is the width of the parent panel, minus this mark's left and right margins;
the left and right margins are zero if not specified.

<li>Otherwise, if the <tt>right</tt> margin is not specified, its value is
the width of the parent panel, minus this mark's width and left margin; the
left margin is zero if not specified.

<li>Otherwise, if the <tt>left</tt> property is not specified, its value is
the width of the parent panel, minus this mark's width and the right margin.

</ol>This prioritization is then duplicated for the <tt>height</tt>,
<tt>bottom</tt> and <tt>top</tt> properties, respectively.

<p>While most properties are <i>variable</i>, some mark types, such as lines
and areas, generate a single visual element rather than a distinct visual
element per datum. With these marks, some properties may be <b>fixed</b>.
Fixed properties can vary per mark, but not <i>per datum</i>! These
properties are evaluated solely for the first (0-index) datum, and typically
are specified as a constant. However, it is valid to use a function if the
property varies between panels or is dynamically generated.

<p>See also the <a href="../../api/">Protovis guide</a>.
				
				
					<p><i>Defined in: </i> <a href="../symbols/src/mark_Mark.js.html">Mark.js</a>.</p>
				
			</p>

<!-- ============================== constructor summary ==================== -->			
			
			<table class="summaryTable" cellspacing="0" summary="A summary of the constructor documented in the class pv.Mark.">
				<caption>Class Summary</caption>
				<thead>
					<tr>
						<th scope="col">Constructor Attributes</th>
						<th scope="col">Constructor Name and Description</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td class="attributes">&nbsp;</td>
						<td class="nameDescription" >
							<div class="fixedFont">
								<b><a href="../symbols/pv.Mark.html#constructor">pv.Mark</a></b>()
							</div>
							<div class="description">Constructs a new mark with default properties.</div>
						</td>
					</tr>
				</tbody>
			</table>
			

<!-- ============================== properties summary ===================== -->
			
				
				
				<table class="summaryTable" cellspacing="0" summary="A summary of the fields documented in the class pv.Mark.">
					<caption>Field Summary</caption>
					<thead>
						<tr>
							<th scope="col">Field Attributes</th>
							<th scope="col">Field Name and Description</th>
						</tr>
					</thead>
					<tbody>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont">
								<b><a href="../symbols/pv.Mark.html#bottom">bottom</a></b>
								</div>
								<div class="description">The bottom margin; the distance, in pixels, between the bottom edge of the
enclosing panel and the bottom edge of this mark.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont">
								<b><a href="../symbols/pv.Mark.html#childIndex">childIndex</a></b>
								</div>
								<div class="description">The child index.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont">
								<b><a href="../symbols/pv.Mark.html#cursor">cursor</a></b>
								</div>
								<div class="description">The cursor property; corresponds to the CSS cursor property.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont">
								<b><a href="../symbols/pv.Mark.html#data">data</a></b>
								</div>
								<div class="description">The data property; an array of objects.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont">
								<b><a href="../symbols/pv.Mark.html#defaults">defaults</a></b>
								</div>
								<div class="description">Default properties for all mark types.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont">
								<b><a href="../symbols/pv.Mark.html#index">index</a></b>
								</div>
								<div class="description">The mark index.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont">
								<b><a href="../symbols/pv.Mark.html#left">left</a></b>
								</div>
								<div class="description">The left margin; the distance, in pixels, between the left edge of the
enclosing panel and the left edge of this mark.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont">
								<b><a href="../symbols/pv.Mark.html#parent">parent</a></b>
								</div>
								<div class="description">The enclosing parent panel.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont">
								<b><a href="../symbols/pv.Mark.html#proto">proto</a></b>
								</div>
								<div class="description">The mark prototype, possibly undefined, from which to inherit property
functions.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont">
								<b><a href="../symbols/pv.Mark.html#reverse">reverse</a></b>
								</div>
								<div class="description">The reverse property; a boolean determining whether marks are ordered from
front-to-back or back-to-front.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont">
								<b><a href="../symbols/pv.Mark.html#right">right</a></b>
								</div>
								<div class="description">The right margin; the distance, in pixels, between the right edge of the
enclosing panel and the right edge of this mark.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont">
								<b><a href="../symbols/pv.Mark.html#root">root</a></b>
								</div>
								<div class="description">The root parent panel.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont">
								<b><a href="../symbols/pv.Mark.html#scene">scene</a></b>
								</div>
								<div class="description">The scene graph.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont">
								<b><a href="../symbols/pv.Mark.html#title">title</a></b>
								</div>
								<div class="description">The title property; corresponds to the HTML/SVG title property, allowing the
general of simple plain text tooltips.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont">
								<b><a href="../symbols/pv.Mark.html#top">top</a></b>
								</div>
								<div class="description">The top margin; the distance, in pixels, between the top edge of the
enclosing panel and the top edge of this mark.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont">
								<b><a href="../symbols/pv.Mark.html#type">type</a></b>
								</div>
								<div class="description">The mark type; a lower camelCase name.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont">
								<b><a href="../symbols/pv.Mark.html#visible">visible</a></b>
								</div>
								<div class="description">The visible property; a boolean determining whether or not the mark instance
is visible.</div>
							</td>
						</tr>
					
					</tbody>
				</table>
				
				
				
			

<!-- ============================== methods summary ======================== -->
			
				
				
				<table class="summaryTable" cellspacing="0" summary="A summary of the methods documented in the class pv.Mark.">
					<caption>Method Summary</caption>
					<thead>
						<tr>
							<th scope="col">Method Attributes</th>
							<th scope="col">Method Name and Description</th>
						</tr>
					</thead>
					<tbody>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/pv.Mark.html#add">add</a></b>(type)
								</div>
								<div class="description">Adds a new mark of the specified type to the enclosing parent panel, whilst
simultaneously setting the prototype of the new mark to be this mark.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/pv.Mark.html#anchor">anchor</a></b>(name)
								</div>
								<div class="description">Returns an anchor with the specified name.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/pv.Mark.html#anchorTarget">anchorTarget</a></b>()
								</div>
								<div class="description">Returns the anchor target of this mark, if it is derived from an anchor;
otherwise returns null.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/pv.Mark.html#cousin">cousin</a></b>()
								</div>
								<div class="description">Returns the current instance in the scene graph of this mark, in the previous
instance of the enclosing parent panel.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/pv.Mark.html#def">def</a></b>(name, value)
								</div>
								<div class="description">Defines a local variable on this mark.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/pv.Mark.html#event">event</a></b>(type, handler)
								</div>
								<div class="description">Registers an event handler for the specified event type with this mark.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/pv.Mark.html#extend">extend</a></b>(proto)
								</div>
								<div class="description">Sets the prototype of this mark to the specified mark.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/pv.Mark.html#first">first</a></b>()
								</div>
								<div class="description">Returns the first instance of this mark in the scene graph.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/pv.Mark.html#last">last</a></b>()
								</div>
								<div class="description">Returns the last instance of this mark in the scene graph.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/pv.Mark.html#mouse">mouse</a></b>()
								</div>
								<div class="description">Returns the current location of the mouse (cursor) relative to this mark's
parent.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/pv.Mark.html#render">render</a></b>()
								</div>
								<div class="description">Renders this mark, including recursively rendering all child marks if this is
a panel.</div>
							</td>
						</tr>
					
						<tr>
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b><a href="../symbols/pv.Mark.html#sibling">sibling</a></b>()
								</div>
								<div class="description">Returns the previous instance of this mark in the scene graph, or null if
this is the first instance.</div>
							</td>
						</tr>
					
					</tbody>
				</table>
				
				
				
			
<!-- ============================== events summary ======================== -->
			

<!-- ============================== constructor details ==================== -->		
			
			<div class="details"><a name="constructor"> </a>
				<div class="sectionTitle">
					Class Detail
				</div>
				
				<div class="fixedFont">
						<b>pv.Mark</b>()
				</div>
				
				<p class="description">
					Constructs a new mark with default properties. Marks, with the exception of
the root panel, are not typically constructed directly; instead, they are
added to a panel or an existing mark via <a href="../symbols/pv.Mark.html#add">pv.Mark#add</a>.
					
				</p>
				
				
				
				
					
					
					
					
					
					
					

			</div>
			

<!-- ============================== field details ========================== -->		
			
				<div class="sectionTitle">
					Field Detail
				</div>
				
					<a name="bottom"> </a>
					<div class="fixedFont">
					
					<span class="light">{number}</span>
					<b>bottom</b>
					
					</div>
					<p class="description">
						The bottom margin; the distance, in pixels, between the bottom edge of the
enclosing panel and the bottom edge of this mark. Note that in some cases
this property may be redundant with the top property, or with the conjunction
of top and height.
						
						
					</p>
					
					

						
						
						
						

					<hr />
				
					<a name="childIndex"> </a>
					<div class="fixedFont">
					
					<span class="light">{number}</span>
					<b>childIndex</b>
					
					</div>
					<p class="description">
						The child index. -1 if the enclosing parent panel is null; otherwise, the
zero-based index of this mark into the parent panel's <tt>children</tt> array.
						
						
					</p>
					
					

						
						
						
						

					<hr />
				
					<a name="cursor"> </a>
					<div class="fixedFont">
					
					<span class="light">{string}</span>
					<b>cursor</b>
					
					</div>
					<p class="description">
						The cursor property; corresponds to the CSS cursor property. This is
typically used in conjunction with event handlers to indicate interactivity.
						
						
					</p>
					
					

						
						
						
							<dl class="detailList">
							<dt class="heading">See:</dt>
							
							<dd><a href="http://www.w3.org/TR/CSS2/ui.html#propdef-cursor">CSS2 cursor</a></dd>
							
							</dl>
						
						

					<hr />
				
					<a name="data"> </a>
					<div class="fixedFont">
					
					<span class="light">{array}</span>
					<b>data</b>
					
					</div>
					<p class="description">
						The data property; an array of objects. The size of the array determines the
number of marks that will be instantiated; each element in the array will be
passed to property functions to compute the property values. Typically, the
data property is specified as a constant array, such as

<pre>m.data([1, 2, 3, 4, 5]);</pre>

However, it is perfectly acceptable to define the data property as a
function. This function might compute the data dynamically, allowing
different data to be used per enclosing panel. For instance, in the stacked
area graph example (see <a href="#scene">#scene</a>), the data function on the area mark
dereferences each series.
						
						
					</p>
					
					

						
						
						
						

					<hr />
				
					<a name="defaults"> </a>
					<div class="fixedFont">
					
					<span class="light">{<a href="../symbols/pv.Mark.html">pv.Mark</a>}</span>
					<b>defaults</b>
					
					</div>
					<p class="description">
						Default properties for all mark types. By default, the data array is the
parent data as a single-element array; if the data property is not specified,
this causes each mark to be instantiated as a singleton with the parents
datum. The visible property is true by default, and the reverse property is
false.
						
						
					</p>
					
					

						
						
						
						

					<hr />
				
					<a name="index"> </a>
					<div class="fixedFont">
					
					<span class="light">{number}</span>
					<b>index</b>
					
					</div>
					<p class="description">
						The mark index. The value of this field depends on which instance (i.e.,
which element of the data array) is currently being evaluated. During the
build phase, the index is incremented over each datum; when handling events,
the index is set to the instance that triggered the event.
						
						
					</p>
					
					

						
						
						
						

					<hr />
				
					<a name="left"> </a>
					<div class="fixedFont">
					
					<span class="light">{number}</span>
					<b>left</b>
					
					</div>
					<p class="description">
						The left margin; the distance, in pixels, between the left edge of the
enclosing panel and the left edge of this mark. Note that in some cases this
property may be redundant with the right property, or with the conjunction of
right and width.
						
						
					</p>
					
					

						
						
						
						

					<hr />
				
					<a name="parent"> </a>
					<div class="fixedFont">
					
					<span class="light">{<a href="../symbols/pv.Panel.html">pv.Panel</a>}</span>
					<b>parent</b>
					
					</div>
					<p class="description">
						The enclosing parent panel. The parent panel is generally undefined only for
the root panel; however, it is possible to create "offscreen" marks that are
used only for inheritance purposes.
						
						
					</p>
					
					

						
						
						
						

					<hr />
				
					<a name="proto"> </a>
					<div class="fixedFont">
					
					<span class="light">{<a href="../symbols/pv.Mark.html">pv.Mark</a>}</span>
					<b>proto</b>
					
					</div>
					<p class="description">
						The mark prototype, possibly undefined, from which to inherit property
functions. The mark prototype is not necessarily of the same type as this
mark. Any properties defined on this mark will override properties inherited
either from the prototype or from the type-specific defaults.
						
						
					</p>
					
					

						
						
						
						

					<hr />
				
					<a name="reverse"> </a>
					<div class="fixedFont">
					
					<span class="light">{boolean}</span>
					<b>reverse</b>
					
					</div>
					<p class="description">
						The reverse property; a boolean determining whether marks are ordered from
front-to-back or back-to-front. SVG does not support explicit z-ordering;
shapes are rendered in the order they appear. Thus, by default, marks are
rendered in data order. Setting the reverse property to false reverses the
order in which they are rendered; however, the properties are still evaluated
(i.e., built) in forward order.
						
						
					</p>
					
					

						
						
						
						

					<hr />
				
					<a name="right"> </a>
					<div class="fixedFont">
					
					<span class="light">{number}</span>
					<b>right</b>
					
					</div>
					<p class="description">
						The right margin; the distance, in pixels, between the right edge of the
enclosing panel and the right edge of this mark. Note that in some cases this
property may be redundant with the left property, or with the conjunction of
left and width.
						
						
					</p>
					
					

						
						
						
						

					<hr />
				
					<a name="root"> </a>
					<div class="fixedFont">
					
					<span class="light">{<a href="../symbols/pv.Panel.html">pv.Panel</a>}</span>
					<b>root</b>
					
					</div>
					<p class="description">
						The root parent panel. This may be undefined for "offscreen" marks that are
created for inheritance purposes only.
						
						
					</p>
					
					

						
						
						
						

					<hr />
				
					<a name="scene"> </a>
					<div class="fixedFont">
					
					
					<b>scene</b>
					
					</div>
					<p class="description">
						The scene graph. The scene graph is an array of objects; each object (or
"node") corresponds to an instance of this mark and an element in the data
array. The scene graph can be traversed to lookup previously-evaluated
properties.

<p>For instance, consider a stacked area chart. The bottom property of the
area can be defined using the <i>cousin</i> instance, which is the current
area instance in the previous instantiation of the parent panel. In this
sample code,

<pre>new pv.Panel()
    .width(150).height(150)
  .add(pv.Panel)
    .data([[1, 1.2, 1.7, 1.5, 1.7],
           [.5, 1, .8, 1.1, 1.3],
           [.2, .5, .8, .9, 1]])
  .add(pv.Area)
    .data(function(d) d)
    .bottom(function() {
        var c = this.cousin();
        return c ? (c.bottom + c.height) : 0;
      })
    .height(function(d) d * 40)
    .left(function() this.index * 35)
  .root.render();</pre>

the bottom property is computed based on the upper edge of the corresponding
datum in the previous series. The area's parent panel is instantiated once
per series, so the cousin refers to the previous (below) area mark. (Note
that the position of the upper edge is not the same as the top property,
which refers to the top margin: the distance from the top edge of the panel
to the top edge of the mark.)
						
						
					</p>
					
					

						
						
						
							<dl class="detailList">
							<dt class="heading">See:</dt>
							
							<dd><a href="#first">#first</a></dd>
							
							<dd><a href="#last">#last</a></dd>
							
							<dd><a href="#sibling">#sibling</a></dd>
							
							<dd><a href="#cousin">#cousin</a></dd>
							
							</dl>
						
						

					<hr />
				
					<a name="title"> </a>
					<div class="fixedFont">
					
					<span class="light">{string}</span>
					<b>title</b>
					
					</div>
					<p class="description">
						The title property; corresponds to the HTML/SVG title property, allowing the
general of simple plain text tooltips.
						
						
					</p>
					
					

						
						
						
						

					<hr />
				
					<a name="top"> </a>
					<div class="fixedFont">
					
					<span class="light">{number}</span>
					<b>top</b>
					
					</div>
					<p class="description">
						The top margin; the distance, in pixels, between the top edge of the
enclosing panel and the top edge of this mark. Note that in some cases this
property may be redundant with the bottom property, or with the conjunction
of bottom and height.
						
						
					</p>
					
					

						
						
						
						

					<hr />
				
					<a name="type"> </a>
					<div class="fixedFont">
					
					<span class="light">{string}</span>
					<b>type</b>
					
					</div>
					<p class="description">
						The mark type; a lower camelCase name. The type name controls rendering
behavior, and unless the rendering engine is extended, must be one of the
built-in concrete mark types: area, bar, dot, image, label, line, panel,
rule, or wedge.
						
						
					</p>
					
					

						
						
						
						

					<hr />
				
					<a name="visible"> </a>
					<div class="fixedFont">
					
					<span class="light">{boolean}</span>
					<b>visible</b>
					
					</div>
					<p class="description">
						The visible property; a boolean determining whether or not the mark instance
is visible. If a mark instance is not visible, its other properties will not
be evaluated. Similarly, for panels no child marks will be rendered.
						
						
					</p>
					
					

						
						
						
						

					
				
			

<!-- ============================== method details ========================= -->		
			
				<div class="sectionTitle">
					Method Detail
				</div>
				
					<a name="add"> </a>
					<div class="fixedFont">
					
					<span class="light">{<a href="../symbols/pv.Mark.html">pv.Mark</a>}</span>
					<b>add</b>(type)
					
					</div>
					<p class="description">
						Adds a new mark of the specified type to the enclosing parent panel, whilst
simultaneously setting the prototype of the new mark to be this mark.
						
						
					</p>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<span class="light fixedFont">{function}</span> <b>type</b>
									
								</dt>
								<dd>the type of mark to add; a constructor, such as
<tt>pv.Bar</tt>.</dd>
							
							</dl>
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd><span class="light fixedFont">{<a href="../symbols/pv.Mark.html">pv.Mark</a>}</span> the new mark.</dd>
							
							</dl>
						
						
						
							<dl class="detailList">
							<dt class="heading">See:</dt>
							
								<dd><a href="#extend">#extend</a></dd>
							
							</dl>
						

					<hr />
				
					<a name="anchor"> </a>
					<div class="fixedFont">
					
					<span class="light">{<a href="../symbols/pv.Anchor.html">pv.Anchor</a>}</span>
					<b>anchor</b>(name)
					
					</div>
					<p class="description">
						Returns an anchor with the specified name. While anchor names are typically
constants, the anchor name is a true property, which means you can specify a
function to compute the anchor name dynamically. See the
<a href="../symbols/pv.Anchor.html#name">pv.Anchor#name</a> property for details.
						
						
					</p>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<span class="light fixedFont">{string}</span> <b>name</b>
									
								</dt>
								<dd>the anchor name; either a string or a property function.</dd>
							
							</dl>
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd><span class="light fixedFont">{<a href="../symbols/pv.Anchor.html">pv.Anchor</a>}</span> the new anchor.</dd>
							
							</dl>
						
						
						

					<hr />
				
					<a name="anchorTarget"> </a>
					<div class="fixedFont">
					
					<span class="light">{<a href="../symbols/pv.Mark.html">pv.Mark</a>}</span>
					<b>anchorTarget</b>()
					
					</div>
					<p class="description">
						Returns the anchor target of this mark, if it is derived from an anchor;
otherwise returns null. For example, if a label is derived from a bar anchor,

<pre>bar.anchor("top").add(pv.Label);</pre>

then property functions on the label can refer to the bar via the
<tt>anchorTarget</tt> method. This method is also useful for mark types
defining properties on custom anchors.
						
						
					</p>
					
					
					
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd><span class="light fixedFont">{<a href="../symbols/pv.Mark.html">pv.Mark</a>}</span> the anchor target of this mark; possibly null.</dd>
							
							</dl>
						
						
						

					<hr />
				
					<a name="cousin"> </a>
					<div class="fixedFont">
					
					
					<b>cousin</b>()
					
					</div>
					<p class="description">
						Returns the current instance in the scene graph of this mark, in the previous
instance of the enclosing parent panel. May return null if this instance
could not be found. See the <a href="../symbols/pv.Layout.stack.html">pv.Layout.stack</a> function for an example
property function using cousin.
						
						
					</p>
					
					
					
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>a node in the scene graph, or null.</dd>
							
							</dl>
						
						
						
							<dl class="detailList">
							<dt class="heading">See:</dt>
							
								<dd><a href="../symbols/pv.Layout.stack.html">pv.Layout.stack</a></dd>
							
							</dl>
						

					<hr />
				
					<a name="def"> </a>
					<div class="fixedFont">
					
					
					<b>def</b>(name, value)
					
					</div>
					<p class="description">
						Defines a local variable on this mark. Local variables are initialized once
per mark (i.e., per parent panel instance), and can be used to store local
state for the mark. Here are a few reasons you might want to use
<tt>def</tt>:

<p>1. To store local state. For example, say you were visualizing employment
statistics, and your root panel had an array of occupations. In a child
panel, you might want to initialize a local scale, and reference it from a
property function:

<pre>.def("y", function(d) pv.Scale.linear(0, pv.max(d.values)).range(0, h))
.height(function(d) this.y()(d))</pre>

In this example, <tt>this.y()</tt> returns the defined local scale. We then
invoke the scale function, passing in the datum, to compute the height.  Note
that defs are similar to fixed properties: they are only evaluated once per
parent panel, and <tt>this.y()</tt> returns a function, rather than
automatically evaluating this function as a property.

<p>2. To store temporary state for interaction. Say you have an array of
bars, and you want to color the bar differently if the mouse is over it. Use
<tt>def</tt> to define a local variable, and event handlers to override this
variable interactively:

<pre>.def("i", -1)
.event("mouseover", function() this.i(this.index))
.event("mouseout", function() this.i(-1))
.fillStyle(function() this.i() == this.index ? "red" : "blue")</pre>

Notice that <tt>this.i()</tt> can be used both to set the value of <i>i</i>
(when an argument is specified), and to get the value of <i>i</i> (when no
arguments are specified). In this way, it's like other property methods.

<p>3. To specify fixed properties efficiently. Sometimes, the value of a
property may be locally a constant, but dependent on parent panel data which
is variable. In this scenario, you can use <tt>def</tt> to define a property;
it will only get computed once per mark, rather than once per datum.
						
						
					</p>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<span class="light fixedFont">{string}</span> <b>name</b>
									
								</dt>
								<dd>the name of the local variable.</dd>
							
								<dt>
									<span class="light fixedFont">{function}</span> <b>value</b>
									<i>Optional</i>
								</dt>
								<dd>an optional initializer; may be a constant or a
function.</dd>
							
							</dl>
						
						
						
						
						
						
						

					<hr />
				
					<a name="event"> </a>
					<div class="fixedFont">
					
					<span class="light">{<a href="../symbols/pv.Mark.html">pv.Mark</a>}</span>
					<b>event</b>(type, handler)
					
					</div>
					<p class="description">
						Registers an event handler for the specified event type with this mark. When
an event of the specified type is triggered, the specified handler will be
invoked. The handler is invoked in a similar method to property functions:
the context is <tt>this</tt> mark instance, and the arguments are the full
data stack. Event handlers can use property methods to manipulate the display
properties of the mark:

<pre>m.event("click", function() this.fillStyle("red"));</pre>

Alternatively, the external data can be manipulated and the visualization
redrawn:

<pre>m.event("click", function(d) {
    data = all.filter(function(k) k.name == d);
    vis.render();
  });</pre>

The return value of the event handler determines which mark gets re-rendered.
Use defs (<a href="#def">#def</a>) to set temporary state from event handlers.

<p>The complete set of event types is defined by SVG; see the reference
below. The set of supported event types is:<ul>

<li>click
<li>mousedown
<li>mouseup
<li>mouseover
<li>mousemove
<li>mouseout

</ul>Since Protovis does not specify any concept of focus, it does not
support key events; these should be handled outside the visualization using
standard JavaScript. In the future, support for interaction may be extended
to support additional event types, particularly those most relevant to
interactive visualization, such as selection.

<p>TODO In the current implementation, event handlers are not inherited from
prototype marks. They must be defined explicitly on each interactive mark. In
addition, only one event handler for a given event type can be defined; when
specifying multiple event handlers for the same type, only the last one will
be used.
						
						
					</p>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<span class="light fixedFont">{string}</span> <b>type</b>
									
								</dt>
								<dd>the event type.</dd>
							
								<dt>
									<span class="light fixedFont">{function}</span> <b>handler</b>
									
								</dt>
								<dd>the event handler.</dd>
							
							</dl>
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd><span class="light fixedFont">{<a href="../symbols/pv.Mark.html">pv.Mark</a>}</span> this.</dd>
							
							</dl>
						
						
						
							<dl class="detailList">
							<dt class="heading">See:</dt>
							
								<dd><a href="http://www.w3.org/TR/SVGTiny12/interact.html#SVGEvents">SVG events</a></dd>
							
							</dl>
						

					<hr />
				
					<a name="extend"> </a>
					<div class="fixedFont">
					
					<span class="light">{<a href="../symbols/pv.Mark.html">pv.Mark</a>}</span>
					<b>extend</b>(proto)
					
					</div>
					<p class="description">
						Sets the prototype of this mark to the specified mark. Any properties not
defined on this mark may be inherited from the specified prototype mark, or
its prototype, and so on. The prototype mark need not be the same type of
mark as this mark. (Note that for inheritance to be useful, properties with
the same name on different mark types should have equivalent meaning.)
						
						
					</p>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<span class="light fixedFont">{<a href="../symbols/pv.Mark.html">pv.Mark</a>}</span> <b>proto</b>
									
								</dt>
								<dd>the new prototype.</dd>
							
							</dl>
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd><span class="light fixedFont">{<a href="../symbols/pv.Mark.html">pv.Mark</a>}</span> this mark.</dd>
							
							</dl>
						
						
						
							<dl class="detailList">
							<dt class="heading">See:</dt>
							
								<dd><a href="#add">#add</a></dd>
							
							</dl>
						

					<hr />
				
					<a name="first"> </a>
					<div class="fixedFont">
					
					
					<b>first</b>()
					
					</div>
					<p class="description">
						Returns the first instance of this mark in the scene graph. This method can
only be called when the mark is bound to the scene graph (for example, from
an event handler, or within a property function).
						
						
					</p>
					
					
					
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>a node in the scene graph.</dd>
							
							</dl>
						
						
						

					<hr />
				
					<a name="last"> </a>
					<div class="fixedFont">
					
					
					<b>last</b>()
					
					</div>
					<p class="description">
						Returns the last instance of this mark in the scene graph. This method can
only be called when the mark is bound to the scene graph (for example, from
an event handler, or within a property function). In addition, note that mark
instances are built sequentially, so the last instance of this mark may not
yet be constructed.
						
						
					</p>
					
					
					
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>a node in the scene graph.</dd>
							
							</dl>
						
						
						

					<hr />
				
					<a name="mouse"> </a>
					<div class="fixedFont">
					
					<span class="light">{<a href="../symbols/pv.Vector.html">pv.Vector</a>}</span>
					<b>mouse</b>()
					
					</div>
					<p class="description">
						Returns the current location of the mouse (cursor) relative to this mark's
parent. The <i>x</i> coordinate corresponds to the left margin, while the
<i>y</i> coordinate corresponds to the top margin.
						
						
					</p>
					
					
					
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd><span class="light fixedFont">{<a href="../symbols/pv.Vector.html">pv.Vector</a>}</span> the mouse location.</dd>
							
							</dl>
						
						
						

					<hr />
				
					<a name="render"> </a>
					<div class="fixedFont">
					
					
					<b>render</b>()
					
					</div>
					<p class="description">
						Renders this mark, including recursively rendering all child marks if this is
a panel.
						
						
					</p>
					
					
					
						
						
						
						
						
						
						

					<hr />
				
					<a name="sibling"> </a>
					<div class="fixedFont">
					
					
					<b>sibling</b>()
					
					</div>
					<p class="description">
						Returns the previous instance of this mark in the scene graph, or null if
this is the first instance.
						
						
					</p>
					
					
					
						
						
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>a node in the scene graph, or null.</dd>
							
							</dl>
						
						
						

					
				
			
			
<!-- ============================== event details ========================= -->		
			
			
			<hr />
		</div>

		
<!-- ============================== footer ================================= -->
		<div class="fineprint" style="clear:both">
			
			Documentation generated by <a href="http://code.google.com/p/jsdoc-toolkit/" target="_blank">JsDoc Toolkit</a> 2.3.0 on Sat Sep 19 2009 10:26:36 GMT-0700 (PDT)
		</div>
	</body>
</html>
